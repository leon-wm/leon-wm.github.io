<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solution for AOS issue #840</title>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
  <style>
    body{
      justify-content: center;
      width: 100%;
      font-family: "Inter", sans-serif;
      font-optical-sizing: auto;
      font-weight: light;
      font-style: normal;
      font-variation-settings:
        "slnt" 0;
    }
    .element {
      width: 100px;
      height: 100px;
      background-color: #007DFE;
      margin: 50px;
    }

    .spacer{
      padding-bottom: 100vh;
      width: 100%;
    }
    hr{
      width: 100%;
    }
  </style>
</head>
<body>
<div class="spacer">
  <h1>Solution for <a href="https://github.com/michalsnik/aos/issues/840">AOS issue #840</a></h1>
  <p>To see the solution in action, please scroll down <strong>and</strong> then up!</p>
  <br>
  <p>You can find the code, as answer, at the <a href="https://github.com/michalsnik/aos/issues/840">issue page.</a></p>
  <hr>
  <h3>Original issue by <a href="https://github.com/Shikotoshi">@Shikotoshi</a>: </h3>
  <p>How can i trigger animate when i scroll up? it is possible?</p>
</div>
<div class="element" data-aos="fade-right"></div>
<div class="element" data-aos="fade-left"></div>
<div class="spacer"></div>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  // Initialize AOS.js with global options
  AOS.init({
    duration: 800,
    easing: 'ease-in-out',
    once: true // Only trigger animations once
  });

  // Function to detect scroll direction
  let lastScrollTop = 0;
  window.addEventListener('scroll', function() {
    let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    if (scrollTop > lastScrollTop) {
      // Scrolling down
      document.querySelectorAll('.element').forEach((el, index) => {
        el.setAttribute('data-aos', 'fade-right');
      });
    } else {
      // Scrolling up
      document.querySelectorAll('.element').forEach((el, index) => {
        el.setAttribute('data-aos', 'fade-left');
      });
    }
    lastScrollTop = scrollTop;
    AOS.refreshHard(); // Manually refresh AOS.js animations
  });
</script>

</body>
</html>
